üöÄ GU√çA COMPLETA DE DESPLIEGUE - API SECURITY PROJECT
================================================================

üìã LISTA DE VERIFICACI√ìN DE DESPLIEGUE
=====================================

‚úÖ PASO 1: PREPARAR EL REPOSITORIO GITHUB
=========================================

1. Inicializar Git (si no est√° hecho):
   git init
   git add .
   git commit -m "Commit inicial: Sistema completo de seguridad API"

2. Crear repositorio en GitHub:
   - Ve a https://github.com
   - Crea un nuevo repositorio llamado "api-security-project"
   - NO inicialices con README (ya tienes uno)

3. Conectar repositorio local con GitHub:
   git remote add origin https://github.com/TU_USUARIO/api-security-project.git
   git branch -M main
   git push -u origin main

4. Crear rama setup (como se requiere):
   git checkout -b setup
   git push origin setup
   git checkout main

‚úÖ PASO 2: CONFIGURAR RENDER
============================

1. Crear cuenta en Render:
   - Ve a https://render.com
   - Reg√≠strate con tu cuenta de GitHub
   - Conecta tu cuenta de GitHub

2. Crear nuevo Web Service:
   - En el dashboard de Render, haz clic en "New"
   - Selecciona "Web Service"
   - Conecta tu repositorio de GitHub
   - Selecciona el repositorio "api-security-project"
   - Selecciona la rama "main"

‚úÖ PASO 3: CONFIGURAR VARIABLES DE ENTORNO
==========================================

En la configuraci√≥n del servicio en Render, agrega estas variables:

Variable          | Valor                                    | Descripci√≥n
------------------|------------------------------------------|------------------
NODE_ENV          | production                               | Modo de entorno
JWT_SECRET        | tu-clave-super-secreta-aqui-32-caracteres | Clave secreta JWT
DB_PATH           | ./database.sqlite                        | Ruta del archivo de BD

üîê GENERAR JWT_SECRET SEGURO:
=============================

Opci√≥n 1: Usar Node.js
node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"

Opci√≥n 2: Usar OpenSSL
openssl rand -hex 32

Opci√≥n 3: Generar manualmente (32+ caracteres)
Ejemplo: "mi-clave-super-secreta-para-jwt-2024-segura"

‚úÖ PASO 4: CONFIGURAR BUILD SETTINGS
====================================

En Render, configura estos valores:

- Build Command: npm install
- Start Command: npm start
- Environment: Node
- Node Version: 18 o 20 (recomendado)

‚úÖ PASO 5: CONFIGURAR HEALTH CHECK
==================================

- Health Check Path: /health
- Render usar√° este endpoint para verificar que tu API est√© funcionando

‚úÖ PASO 6: DESPLEGAR
===================

1. Hacer clic en "Create Web Service"
2. Esperar el build (puede tomar 2-5 minutos)
3. Verificar logs para asegurar que no hay errores
4. Obtener URL de tu API desplegada

‚úÖ PASO 7: VERIFICAR DESPLIEGUE
===============================

1. Health Check:
   curl https://tu-app.onrender.com/health

2. Documentaci√≥n API:
   Visita: https://tu-app.onrender.com/api-docs

3. Probar autenticaci√≥n:
   # Registrar usuario
   curl -X POST https://tu-app.onrender.com/auth/register \
     -H "Content-Type: application/json" \
     -d '{
       "fullName": "Usuario Test",
       "email": "test@ejemplo.com",
       "password": "password123"
     }'

‚úÖ PASO 8: CONFIGURAR CI/CD (OPCIONAL)
======================================

El proyecto ya incluye GitHub Actions. Para activarlo:

1. Push a main activar√° autom√°ticamente el despliegue
2. Pull Requests ejecutar√°n solo las pruebas
3. Verificar en GitHub Actions que el pipeline funcione

üîß CONFIGURACI√ìN ADICIONAL
==========================

Variables de Entorno Recomendadas:
NODE_ENV=production
PORT=3000
JWT_SECRET=tu-clave-super-secreta-aqui
DB_PATH=./database.sqlite

Comandos de Verificaci√≥n Local:
npm install          # Instalar dependencias
npm test            # Ejecutar pruebas
npm run dev         # Ejecutar en modo desarrollo
curl http://localhost:3000/health  # Verificar que todo funciona

üö® SOLUCI√ìN DE PROBLEMAS COMUNES
=================================

Error: "Cannot find module"
- Verifica que todas las dependencias est√©n en package.json
- Aseg√∫rate de que npm install se ejecute correctamente

Error: "Database connection failed"
- Verifica que DB_PATH est√© configurado correctamente
- SQLite se crear√° autom√°ticamente en Render

Error: "JWT_SECRET not defined"
- Aseg√∫rate de configurar la variable JWT_SECRET en Render
- Debe ser una cadena de al menos 32 caracteres

Error: "Port already in use"
- Render maneja el puerto autom√°ticamente
- No necesitas configurar PORT manualmente

üìä MONITOREO POST-DESPLIEGUE
============================

1. Logs de Render: Revisa los logs en el dashboard
2. Health Check: Verifica que /health responda correctamente
3. API Documentation: Confirma que /api-docs funcione
4. Pruebas de endpoints: Prueba registro y login

üéØ URLS IMPORTANTES
===================

- API Base: https://tu-app.onrender.com
- Health Check: https://tu-app.onrender.com/health
- API Docs: https://tu-app.onrender.com/api-docs
- Registro: https://tu-app.onrender.com/auth/register
- Login: https://tu-app.onrender.com/auth/login

‚úÖ LISTA DE VERIFICACI√ìN FINAL
==============================

‚ñ° Repositorio en GitHub creado
‚ñ° C√≥digo subido a GitHub
‚ñ° Rama setup creada
‚ñ° Cuenta de Render configurada
‚ñ° Web Service creado en Render
‚ñ° Variables de entorno configuradas
‚ñ° Build exitoso en Render
‚ñ° Health check funcionando
‚ñ° API documentation accesible
‚ñ° Pruebas de endpoints exitosas

üéâ ¬°CON ESTOS PASOS TENDR√ÅS TU API COMPLETAMENTE DESPLEGADA Y FUNCIONANDO EN PRODUCCI√ìN!
